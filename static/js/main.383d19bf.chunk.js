(this["webpackJsonpsf-react"]=this["webpackJsonpsf-react"]||[]).push([[0],{123:function(e,t,s){},124:function(e,t,s){},160:function(e,t,s){},161:function(e,t,s){},162:function(e,t,s){},163:function(e,t,s){},164:function(e,t,s){},165:function(e,t,s){},166:function(e,t,s){},167:function(e,t,s){},168:function(e,t,s){},169:function(e,t,s){},170:function(e,t,s){},171:function(e,t,s){},172:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(0),r=s.n(c),a=s(14),i=s.n(a),o=(s(123),s(4)),j=(s(124),s(101)),l=s.n(j),u=s(30),d=s.n(u),b=s(8),O=function(e){var t=e.name,s=e.color,r=Object(c.useState)(),a=Object(o.a)(r,2),i=a[0],j=a[1],l={boxShadow:"2px 2px 20px ".concat(s),borderColor:s};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(b.b,{to:t,children:Object(n.jsx)("div",{className:"square",onMouseOver:function(){return j(!0)},onMouseLeave:function(){return j(!1)},style:i?l:{},children:t})})})},x=function(){var e="Find your streaming family.",t=Object(c.useState)(""),s=Object(o.a)(t,2),r=s[0],a=s[1];return e=Array.from(e),Object(c.useEffect)((function(){var t=[];return a(""),e.forEach((function(e,s){var n=setTimeout((function(){a((function(t){return t+e}))}),100*s);t.push(n)})),function(){t.forEach((function(e){clearTimeout(e)}))}}),[]),Object(n.jsx)("div",{className:"title",children:r})},m=s(204),h=s(206),f=Object(m.a)((function(e){return{root:{"& > *":{borderColor:"white",color:"white",transtion:"1s",margin:"5px",width:"fit-content"},"& > *:hover":{borderColor:"white",boxShadow:"0px 0px 10px white",backgroundColor:"white",color:"black",width:"fit-content"}}}}));function p(e){var t=e.text,s=e.onClick,c=e.style,r=f();return Object(n.jsx)("div",{className:r.root,children:Object(n.jsx)(h.a,{style:c||{},variant:"outlined",onClick:s,children:t})})}var g=s(107),v=s.n(g),y=s(105),C=s.n(y),w=s(106),k=s.n(w),S=s(208),P=function(){var e=Object(c.useContext)(Ie),t=e.nickname,s=e.setUserID,r=e.setUserData,a=e.setNickname,i=e.socket,j=e.userID,l=Object(c.useState)(!1),u=Object(o.a)(l,2),m=u[0],h=u[1];Object(c.useEffect)((function(){i.emit("CheckUserID",j),window.innerWidth<520&&h(!0),window.addEventListener("resize",(function(){window.innerWidth<520?h(!0):h(!1)}))}),[]);var f=function(){a(null),s(null),d.a.remove("userID"),r(null)};return Object(n.jsxs)(n.Fragment,{children:[m?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"header",children:[t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b.b,{to:"/account",children:Object(n.jsx)(S.a,{children:Object(n.jsx)(C.a,{style:{color:"white"}})})}),Object(n.jsx)(b.b,{to:"/myparties",children:Object(n.jsx)(S.a,{children:Object(n.jsx)(k.a,{style:{color:"white"}})})})]}):Object(n.jsx)(b.b,{to:"/login",children:Object(n.jsx)(p,{text:"Login"})}),t?Object(n.jsx)(S.a,{children:Object(n.jsx)(v.a,{style:{color:"white"},onClick:f})}):Object(n.jsx)(b.b,{to:"/signup",children:Object(n.jsx)(p,{text:"Sign Up"})})]})}):Object(n.jsxs)("div",{className:"header",children:[t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b.b,{to:"/account",children:Object(n.jsx)(p,{text:t})}),Object(n.jsx)(b.b,{to:"/myparties",children:Object(n.jsx)(p,{text:"My Parties"})})]}):Object(n.jsx)(b.b,{to:"/login",children:Object(n.jsx)(p,{text:"Login"})}),t?Object(n.jsx)(p,{text:"LogOut",onClick:f}):Object(n.jsx)(b.b,{to:"/signup",children:Object(n.jsx)(p,{text:"Sign Up"})})]}),Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)("div",{className:"homepage",children:[Object(n.jsx)(x,{}),Object(n.jsxs)("div",{className:"streamingOffers",children:[Object(n.jsx)(O,{name:"Netflix",color:"#e50914"}),Object(n.jsx)(O,{name:"Spotify",color:"#1DB954"}),Object(n.jsx)(O,{name:"HBOGO",color:"white"}),Object(n.jsx)(O,{name:"Disney+",color:"#113CCF"})]})]})})]})},N=s(13),D=s(66),I=s(220),A=s(219);function E(e){return Object(n.jsx)(A.a,Object(D.a)({elevation:6,variant:"filled"},e))}var M=Object(m.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function U(){var e=Object(c.useContext)(Ie),t=e.setIsError,s=e.isError,r=e.errorMessage,a=M();return Object(n.jsx)("div",{className:a.root,children:Object(n.jsx)(I.a,{open:s,autoHideDuration:4e3,onClose:function(e,s){"clickaway"!==s&&t(!1)},children:Object(n.jsx)(E,{onClose:function(){return t(!1)},severity:"error",children:r})})})}s(160);var L=s(218);function F(e){var t=e.setChecked,s=e.checked;return Object(n.jsxs)("div",{children:[Object(n.jsx)(L.a,{checked:s,onChange:function(e){t(e.target.checked)},inputProps:{"aria-label":"primary checkbox"},color:"primary"}),"I accept everything."]})}var B=s(65),T=function(){var e=Object(c.useContext)(Ie),t=e.socket,s=e.setIsSuccess,r=e.setSuccessMessage,a=e.setUserID,i=e.setIsError,j=e.setErrorMessage,l=Object(c.useState)(""),u=Object(o.a)(l,2),O=u[0],x=u[1],m=Object(c.useState)(""),f=Object(o.a)(m,2),g=f[0],v=f[1],y=Object(c.useState)(""),C=Object(o.a)(y,2),w=C[0],k=C[1],S=Object(c.useState)(""),P=Object(o.a)(S,2),D=P[0],I=P[1],A=Object(c.useState)(""),E=Object(o.a)(A,2),M=E[0],U=E[1],L=Object(c.useState)(!1),T=Object(o.a)(L,2),_=T[0],H=T[1],R=Object(N.g)(),G=Object(c.useState)(!1),V=Object(o.a)(G,2),W=V[0],J=V[1];Object(c.useEffect)((function(){Object(B.a)({targets:".signInContainer",scale:[0,1],duration:2e3})}),[]);var Y=function(){if(O&&g&&w&&M&&D){if(!M.includes("@"))return j("Check your email"),i(!0);if(!_)return j("Accept everything"),i(!0);if(w.length<6)return j("Password is to short"),i(!0);if(w!==D)return j("Passwords are not the same"),i(!0);t.emit("SignUpData",{name:O,username:g,password:w,email:M})}else i(!0)};return Object(c.useEffect)((function(){return t.on("SignUpAnswer",(function(e){e.success?(s(!0),x(""),v(""),k(""),U(""),r(e.message),d.a.set("userID",e.userID,{expires:3}),a(e.userID),setTimeout((function(){R.push("/")}),1)):(j(e.message),i(!0))})),t.on("sendValidationCodeAnswer",(function(e){var t=e.message;e.success?r(t):(j(t),i(!0))})),function(){t.removeAllListeners("SignUpAnswer"),t.removeAllListeners("sendValidationCodeAnswer")}}),[R,j,i,s,r,a,t]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(b.b,{to:"/",children:Object(n.jsx)(p,{variant:"outlined",text:"Back"})})}),Object(n.jsx)("div",{className:"content",children:Object(n.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(n.jsxs)("div",{className:"signInContainer",children:[Object(n.jsx)("h1",{children:"Create free account"}),Object(n.jsx)("div",{className:"signUp",children:Object(n.jsxs)("form",{autoComplete:"off",className:"forms",children:[Object(n.jsx)("input",{autoComplete:"nope",type:"text",name:"name",value:O,onChange:function(e){return x(e.target.value)},placeholder:"Name"}),Object(n.jsx)("input",{type:"text",name:"username",value:g,onChange:function(e){return v(e.target.value)},placeholder:"Username"}),Object(n.jsx)("input",{autoComplete:"off",type:"password",name:"password",onChange:function(e){return k(e.target.value)},value:w,placeholder:"Password"}),Object(n.jsx)("input",{autoComplete:"off",type:"password",name:"checkPassword",onChange:function(e){return I(e.target.value)},value:D,placeholder:"Repeat password"}),Object(n.jsx)("input",{autoComplete:"off",type:"email",name:"email",onChange:function(e){return U(e.target.value)},value:M,placeholder:"Email"}),Object(n.jsx)(F,{checked:_,setChecked:H}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),Y()},style:{display:"none"},type:"submit"}),Object(n.jsx)(h.a,{onMouseOver:function(){return J(!0)},onMouseOut:function(){J(!1)},variant:"outlined",disabled:!_,style:W?{marginTop:"5px",borderColor:"#4361ee",width:"fit-content",alignSelf:"center",backgroundColor:"#4361ee"}:{marginTop:"5px",color:"black",borderColor:"black",width:"fit-content",alignSelf:"center"},onClick:Y,children:"Create Account"})]})})]})})})]})},_=(s(161),s(210)),H=Object(m.a)((function(e){return{root:{position:"relative",top:"-4px",borderRadius:"5px",width:"100%","& .MuiLinearProgress-root":{borderRadius:"0 0 5px 5px"}}}}));function R(){var e=H();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(_.a,{})})}var G=function(e){var t=e.turnOffBack,s=Object(c.useContext)(Ie),r=s.socket,a=s.setUserID,i=s.setNickname,j=s.setIsSuccess,l=s.setSuccessMessage,u=s.setIsError,O=s.setErrorMessage,x=s.setIsLoginPage,m=Object(c.useRef)(),f=Object(c.useState)(""),g=Object(o.a)(f,2),v=g[0],y=g[1],C=Object(c.useState)(""),w=Object(o.a)(C,2),k=w[0],S=w[1],P=Object(N.g)(),D=Object(c.useState)(!1),I=Object(o.a)(D,2),A=I[0],E=I[1],M=Object(c.useState)(!1),U=Object(o.a)(M,2),L=U[0],F=U[1];Object(c.useEffect)((function(){Object(B.a)({targets:".loginContainer",scale:[0,1],duration:2e3})}),[]),Object(c.useEffect)((function(){return r.on("LoginAnswer",(function(e){var t;e.success?(i(v),y(""),S(""),j(!0),l(e.message),t=e.userID,d.a.set("userID",t,{expires:3}),a(e.userID),setTimeout((function(){P.push("/")}),1),F(!1),x(!1)):(O(e.message),u(!0),F(!1),S(""),m.current&&(m.current.style.transition="0.3s",m.current.style.boxShadow="0px 0px 20px red",setTimeout((function(){m.current.style.boxShadow="0px 0px 20px black"}),1e3)))})),function(){r.removeAllListeners("LoginAnswer")}}),[r,P,O,i,v,j,l,a,x,u]);var T=function(){v&&k?(r.emit("Login",{username:v,password:k}),F(!0)):(O("Check your details again"),u(!0))};return Object(n.jsxs)(n.Fragment,{children:[!t&&Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(b.b,{to:"/",children:Object(n.jsx)(p,{variant:"outlined",text:"Back"})})}),Object(n.jsx)("div",{className:"loginContent",children:Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsxs)("div",{ref:m,className:"loginContainer",children:[Object(n.jsx)("h1",{children:"Log in to your account"}),Object(n.jsx)("div",{className:"login",children:Object(n.jsxs)("form",{autoComplete:"off",className:"forms",children:[Object(n.jsx)("input",{type:"text",name:"username",value:v,onChange:function(e){return y(e.target.value)},placeholder:"Username"}),Object(n.jsx)("input",{autoComplete:"off",type:"password",name:"password",onChange:function(e){return S(e.target.value)},value:k,placeholder:"Password"}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),T()},style:{display:"none"},type:"submit"}),Object(n.jsx)(h.a,{onMouseOver:function(){return E(!0)},onMouseOut:function(){E(!1)},variant:"outlined",style:A?{marginTop:"5px",borderColor:"#4361ee",width:"fit-content",alignSelf:"center",backgroundColor:"#4361ee"}:{marginTop:"5px",color:"black",borderColor:"black",width:"fit-content",alignSelf:"center"},onClick:T,children:"Login"})]})})]}),L?Object(n.jsx)(R,{}):Object(n.jsx)("div",{style:{height:"4px"}})]})})]})},V=(s(162),function(){var e=Object(c.useContext)(Ie).userData,t=e.name,s=e.username,r=e.email,a=e.accountCreated,i=e.isVerified;return Object(n.jsxs)("div",{className:"accountInfo",children:[Object(n.jsxs)("div",{children:["Name: ",t]}),Object(n.jsxs)("div",{children:["Username: ",s]}),Object(n.jsx)("div",{children:"Password: ******"}),Object(n.jsxs)("div",{children:["Email: ",r]}),Object(n.jsxs)("div",{children:["Account created: ",a]}),i?Object(n.jsx)("div",{style:{color:"#90be6d"},children:"Your account is verifed"}):Object(n.jsx)(b.b,{to:"/activate",children:Object(n.jsx)("div",{style:{color:"#f94144"},children:"Click here to verify your account. And check your email!"})})]})}),W=(s(163),function(){var e=Object(c.useContext)(Ie),t=e.socket,s=e.userID,r=e.setIsSuccess,a=e.setSuccessMessage,i=e.setIsError,j=e.setErrorMessage,l=Object(c.useState)(""),u=Object(o.a)(l,2),d=u[0],b=u[1],O=Object(c.useState)(""),x=Object(o.a)(O,2),m=x[0],h=x[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),v=g[0],y=g[1],C=Object(c.useState)(!1),w=Object(o.a)(C,2),k=w[0],S=w[1],P=function(e){e.preventDefault(),s&&d&&m&&v?t.emit("changePassword",{userID:s,oldPassword:d,newPassword:m,code:v}):(i(!0),j("Check it one more time"))};Object(c.useEffect)((function(){return t.on("changePasswordCodeAnswer",(function(e){var t=e.message,s=e.success;s&&(r(s),a(t))})),t.on("changePasswordAnswer",(function(e){var t=e.message,s=e.success;s?(r(s),a(t),b(""),h(""),y("")):(i(!0),j(t))})),function(){t.removeAllListeners("changePasswordAnswer"),t.removeAllListeners("changePasswordCodeAnswer")}}),[j,i,r,a,t]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"changePassword",children:[Object(n.jsx)("h2",{children:"CHANGE PASSWORD"}),k?Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"password",value:d,onChange:function(e){b(e.target.value)},placeholder:"Old password"}),Object(n.jsx)("input",{type:"password",value:m,onChange:function(e){h(e.target.value)},placeholder:"New password"}),Object(n.jsx)("input",{type:"text",value:v,onChange:function(e){y(e.target.value)},placeholder:"Code from email"}),Object(n.jsxs)("div",{style:{width:"fit-content"},children:[Object(n.jsx)(p,{onClick:P,style:{width:"100%"},text:"Change password"}),Object(n.jsx)("button",{style:{display:"none"},onClick:P,type:"submit"})]})]}):Object(n.jsx)("div",{style:{width:"fit-content",height:"fit-content",alignSelf:"center",padding:"15px 20px",backgroundColor:"transparent"},children:Object(n.jsx)(p,{text:"Send code to email!",onClick:function(){t.emit("changePasswordCode",{userID:s}),S(!0)}})})]})})}),J=(s(164),function(){var e=Object(c.useContext)(Ie),t=e.socket,s=e.userID,r=e.setIsSuccess,a=e.setSuccessMessage,i=e.setIsError,j=e.setErrorMessage,l=Object(c.useState)(""),u=Object(o.a)(l,2),d=u[0],b=u[1],O=Object(c.useState)(""),x=Object(o.a)(O,2),m=x[0],h=x[1],f=Object(c.useState)(!1),g=Object(o.a)(f,2),v=g[0],y=g[1],C=function(e){e.preventDefault(),s&&d&&m?d.includes("@")?t.emit("changeEmail",{userID:s,newEmail:d,code:m}):(i(!0),j("Check your new email!")):(i(!0),j("Check it one more time"))};Object(c.useEffect)((function(){return t.on("changeEmailCodeAnswer",(function(e){var t=e.message,s=e.success;s&&(r(s),a(t))})),t.on("changeEmailAnswer",(function(e){var t=e.message,s=e.success;s?(r(s),a(t),b(""),h("")):(i(!0),j(t))})),function(){t.removeAllListeners("changeEmailCodeAnswer"),t.removeAllListeners("changeEmailAnswer")}}),[j,i,r,a,t]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"changeEmail",children:[Object(n.jsx)("h2",{children:"CHANGE EMAIL"}),v?Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"text",value:d,onChange:function(e){b(e.target.value)},placeholder:"New email"}),Object(n.jsx)("input",{type:"text",value:m,onChange:function(e){h(e.target.value)},placeholder:"Code from email"}),Object(n.jsxs)("div",{style:{width:"fit-content"},children:[Object(n.jsx)(p,{onClick:C,style:{width:"100%"},text:"Change password"}),Object(n.jsx)("button",{style:{display:"none"},onClick:C,type:"submit"})]})]}):Object(n.jsx)("div",{style:{width:"fit-content",height:"fit-content",alignSelf:"center",padding:"15px 20px",backgroundColor:"transparent"},children:Object(n.jsx)(p,{text:"Send code to email!",onClick:function(){t.emit("changeEmailCode",{userID:s}),y(!0)}})})]})})}),Y=function(){var e=Object(c.useContext)(Ie).userData.name,t=Object(c.useState)("Account"),s=Object(o.a)(t,2),r=s[0],a=s[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(b.b,{to:"/",children:Object(n.jsx)(p,{variant:"outlined",text:"Back"})})}),Object(n.jsxs)("div",{className:"accountContent",children:[Object(n.jsxs)("h1",{children:["Hello, ",e]}),Object(n.jsxs)("div",{className:"account",children:[Object(n.jsxs)("div",{onClick:function(e){!function(e){"leftPanelItem"===e.target.className&&a(e.target.textContent)}(e)},className:"leftPanel",children:[Object(n.jsx)("p",{className:"leftPanelItem",children:"Account"}),Object(n.jsx)("p",{className:"leftPanelItem",children:"Change Password"}),Object(n.jsx)("p",{className:"leftPanelItem",children:"Change Email"})]}),Object(n.jsxs)("div",{className:"rightPanel",children:["Account"===r&&Object(n.jsx)(V,{}),"Change Password"===r&&Object(n.jsx)(W,{}),"Change Email"===r&&Object(n.jsx)(J,{})]})]})]})]})},z=(s(165),s(108)),q=s.n(z),K=(s(166),function(e){var t=e.name,s=e.users,r=e.maxUsers,a=e.color,i=e.dateCreated,j=e.creator,l=e.partyID,u=e.text,d=e.join,b=Object(c.useState)(),O=Object(o.a)(b,2),x=O[0],m=O[1],h=Object(c.useContext)(Ie),f=h.userID,p=h.socket,g=h.setIsError,v=h.setErrorMessage,y={boxShadow:"0px 0px 20px ".concat(a),borderColor:a},C=Object(c.useRef)();return Object(n.jsxs)("div",{className:"party",style:x?y:{},onMouseOver:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:[Object(n.jsx)("h1",{children:t}),d&&Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"fit-content",alignSelf:"center"},children:[Object(n.jsx)(S.a,{onClick:function(){var e=C.current.dataset.id;f&&e?p.emit("joinParty",{userID:f,partyID:e}):(g(!0),v("Please login!"))},"data-id":l,ref:C,style:{color:"white"},children:Object(n.jsx)(q.a,{style:{color:"white",fontSize:"50px"}})}),"JOIN"]}),Object(n.jsx)("h2",{children:u}),Object(n.jsxs)("span",{children:["Users: ",s.length,"/",r]}),Object(n.jsxs)("span",{children:["Created: ",i]}),Object(n.jsxs)("span",{children:["Created by: ",j]})]})}),Q=function(e){var t=e.parties,s=e.streamingPlatform;return Object(n.jsxs)(n.Fragment,{children:["  ",t.length>0&&Object(n.jsxs)("div",{className:"myPartiesColumn",children:[Object(n.jsx)("h2",{children:s}),t]})]})},X=s(211),Z=Object(m.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function $(){var e=Z();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(X.a,{})})}var ee=function(){var e=Object(c.useContext)(Ie),t=e.userData,s=e.socket,r=Object(c.useState)([]),a=Object(o.a)(r,2),i=a[0],j=a[1];Object(c.useEffect)((function(){return s.emit("getMyParties",t.myParties),function(){j([])}}),[]),Object(c.useEffect)((function(){return s.on("getMyPartiesAnswer",(function(e){j(e)})),function(){s.removeAllListeners("getMyPartiesAnswer")}}),[s]);var l=[],u=[],d=[],O=[];return i.forEach((function(e){switch(e.streamingPlatform){case"Netflix":l.push(e);break;case"Spotify":u.push(e);break;case"HBOGO":d.push(e);break;case"Disney+":O.push(e);break;default:console.log("streaming Party Error")}})),l=l.map((function(e){var t;switch(e.streamingPlatform){case"Netflix":t="#e50914";break;case"Spotify":t="#1DB954";break;case"HBO GO":t="white";break;case"Disney +":t="#113CCF";break;default:t="white"}return Object(n.jsx)(b.b,{to:"/party/".concat(e._id),children:Object(n.jsx)(K,{join:!1,partyID:e._id,name:e.partyName,text:e.textContent,users:e.users,maxUsers:e.maxUsers,creator:e.creatorUsername,dateCreated:e.dateCreated,color:t},e._id)})})),u=u.map((function(e){var t;switch(e.streamingPlatform){case"Netflix":t="#e50914";break;case"Spotify":t="#1DB954";break;case"HBO GO":t="white";break;case"Disney +":t="#113CCF";break;default:t="white"}return Object(n.jsx)(b.b,{to:"/party/".concat(e._id),children:Object(n.jsx)(K,{join:!1,partyID:e._id,name:e.partyName,text:e.textContent,users:e.users,maxUsers:e.maxUsers,creator:e.creatorUsername,dateCreated:e.dateCreated,color:t},e._id)})})),d=d.map((function(e){var t;switch(e.streamingPlatform){case"Netflix":t="#e50914";break;case"Spotify":t="#1DB954";break;case"HBO GO":t="white";break;case"Disney +":t="#113CCF";break;default:t="white"}return Object(n.jsx)(b.b,{to:"/party/".concat(e._id),children:Object(n.jsx)(K,{join:!1,partyID:e._id,name:e.partyName,text:e.textContent,users:e.users,maxUsers:e.maxUsers,creator:e.creatorUsername,dateCreated:e.dateCreated,color:t},e._id)})})),O=O.map((function(e){var t;switch(e.streamingPlatform){case"Netflix":t="#e50914";break;case"Spotify":t="#1DB954";break;case"HBO GO":t="white";break;case"Disney+":t="#113CCF";break;default:t="white"}return Object(n.jsx)(b.b,{to:"/party/".concat(e._id),children:Object(n.jsx)(K,{join:!1,partyID:e._id,name:e.partyName,text:e.textContent,users:e.users,maxUsers:e.maxUsers,creator:e.creatorUsername,dateCreated:e.dateCreated,color:t},e._id)})})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(b.b,{to:"/",children:Object(n.jsx)(p,{variant:"outlined",text:"Back"})})}),i?Object(n.jsxs)("div",{className:"myPartiesContent",children:[Object(n.jsx)("h1",{children:"My Parties"}),Object(n.jsxs)("div",{className:"myParties",children:[Object(n.jsx)(Q,{parties:l,streamingPlatform:"Netflix"}),Object(n.jsx)(Q,{parties:u,streamingPlatform:"Spotify"}),Object(n.jsx)(Q,{parties:d,streamingPlatform:"HBO GO"}),Object(n.jsx)(Q,{parties:O,streamingPlatform:"Disney+"})]})]}):Object(n.jsx)("div",{className:"myPartiesLoading",children:Object(n.jsx)($,{})})]})},te=function(){var e=Object(c.useContext)(Ie),t=e.socket,s=e.userID,r=e.setIsSuccess,a=e.setIsError,i=e.setErrorMessage,j=e.setSuccessMessage,l=Object(c.useState)(""),u=Object(o.a)(l,2),d=u[0],b=u[1],O=Object(c.useState)(!1),x=Object(o.a)(O,2),m=x[0],h=x[1],f=function(e){e.preventDefault(),d&&t.emit("sendValidationCode",{userID:s,ValidateToken:d})};return Object(c.useEffect)((function(){return t.on("sendValidationCodeAnswer",(function(e){var t=e.message,s=e.success;s?(r(s),j(t),h(s)):(a(!0),i(t))})),function(){t.removeAllListeners("sendValidationCodeAnswer")}}),[i,a,r,j,t]),Object(n.jsxs)(n.Fragment,{children:[!!m&&Object(n.jsx)(N.a,{to:"/"}),Object(n.jsxs)("div",{className:"confirmAccount",children:[Object(n.jsx)("h1",{children:"Confirm your account"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"text",placeholder:"Put code from your email",onChange:function(e){return b(e.target.value)},value:d}),Object(n.jsx)("button",{style:{display:"none"},onClick:function(e){f(e)},type:"submit"})]}),Object(n.jsx)(p,{text:"Confirm",onClick:f})]})]})};function se(e){return Object(n.jsx)(A.a,Object(D.a)({elevation:6,variant:"filled"},e))}var ne=Object(m.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function ce(){var e=Object(c.useContext)(Ie),t=e.isSuccess,s=e.setIsSuccess,r=e.successMessage,a=ne();return Object(n.jsx)("div",{className:a.root,children:Object(n.jsx)(I.a,{open:t,autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&s(!1)},children:Object(n.jsx)(se,{onClose:function(){return s(!1)},severity:"success",children:r||"Success"})})})}var re=s(110),ae=Object(m.a)((function(e){return{root:{display:"flex",justifyContent:"center",padding:"15px 20px","& > * + *":{marginLeft:e.spacing(2)}}}}));function ie(){var e=ae();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(X.a,{})})}s(167);var oe,je=function(e){var t=e.color,s=e.streamingPlatform,r=Object(c.useState)(!1),a=Object(o.a)(r,2),i=a[0],j=a[1],l=Object(c.useState)(""),u=Object(o.a)(l,2),d=u[0],O=u[1],x=Object(c.useState)(""),m=Object(o.a)(x,2),h=m[0],f=m[1],g=Object(c.useState)([]),v=Object(o.a)(g,2),y=v[0],C=v[1],w=Object(c.useContext)(Ie),k=w.handleCreateParty,S=w.userID,P=w.socket,N=w.setIsSuccess,D=w.setIsError,I=w.setSuccessMessage,A=w.setErrorMessage,E=w.nickname,M=Object(c.useState)("".concat(E,"'s party")),U=Object(o.a)(M,2),L=U[0],F=U[1],B=Object(c.useRef)();Object(c.useEffect)((function(){return P.emit("getPartiesData",s),function(){C([])}}),[]),Object(c.useEffect)((function(){return P.on("getParitesDataAnswer",(function(e){C(e)})),P.on("newPartyAddedAnswer",(function(e){var t=e.addedParty;t.streamingPlatform===s&&C([].concat(Object(re.a)(y),[t]))})),P.on("joinPartyAnswer",(function(e){var t=e.message;e.success?(N(!0),I(t)):(D(!0),A(t))})),P.on("updateParty",(function(e){var t,s=e.partyChanged,n=y.filter((function(e,n){return e._id===s._id&&(t=n),e._id!==s._id}));n.splice(t,0,s),C(n)})),P.on("createPartyAnswer",(function(e){var t=e.message;e.success?(N(!0),I(t),F(""),O(""),f(""),j(!1)):(D(!0),A(t))})),function(){P.removeAllListeners("createPartyAnswer"),P.removeAllListeners("updateParty"),P.removeAllListeners("joinPartyAnswer"),P.removeAllListeners("newPartyAddedAnswer"),P.removeAllListeners("getParitesDataAnswer")}}),[y,A,D,N,I,P,s]);var T=y.map((function(e){return Object(n.jsx)(K,{join:!0,partyID:e._id,name:e.partyName,text:e.textContent,users:e.users,maxUsers:e.maxUsers,creator:e.creatorUsername,dateCreated:e.dateCreated,color:t},e._id)}));return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{onClick:function(e){i&&(B.current.contains(e.target)||j(!1))},style:{height:"100%"},children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(b.b,{to:"/",children:Object(n.jsx)(p,{variant:"outlined",text:"Back"})})}),Object(n.jsx)("div",{className:"streamingContent",children:Object(n.jsxs)("div",{className:"partiesContainer",children:[Object(n.jsxs)("h1",{children:[s," Families"]}),Object(n.jsx)(p,{text:"Create own party",onClick:function(){j((function(e){return!e}))}}),T?Object(n.jsx)("div",{className:"Parties",children:T}):Object(n.jsx)(ie,{})]})}),i&&Object(n.jsx)("div",{className:"createPartyContainer",ref:B,children:Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{ref:B,type:"text",placeholder:"Party name",onChange:function(e){return F(e.target.value)},value:L}),Object(n.jsx)("input",{ref:B,type:"text",placeholder:"Text",onChange:function(e){return O(e.target.value)},value:d}),Object(n.jsx)("input",{type:"number",style:{width:"263px"},max:5,min:1,placeholder:"How many friends",onChange:function(e){return f(e.target.value)},value:h}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),k(S,L,d,h,s)},style:{display:"none"},type:"submit"}),Object(n.jsx)(p,{text:"Create",onClick:function(){return k(S,L,d,h,s)}})]})})]})})},le=(s(168),s(169),function(e){var t=e.time,s=e.nickname,c=e.message,r=e.myMessage;return Object(n.jsx)(n.Fragment,{children:r?Object(n.jsx)("div",{title:t,style:{alignSelf:"flex-end"},children:Object(n.jsx)("p",{style:{borderRadius:"20px 20px 0px 20px"},children:c})}):Object(n.jsx)(n.Fragment,{children:""===s?Object(n.jsx)("div",{title:t,children:Object(n.jsx)("p",{style:{color:"grey",borderColor:"grey"},children:c})}):Object(n.jsx)("div",{title:t,children:Object(n.jsxs)("p",{children:[Object(n.jsxs)("span",{children:[s," : "]})," "," ",c]})})})})}),ue=function(e){var t=e.chat,s=Object(c.useContext)(Ie).nickname,r=Object(c.useRef)(),a=t.map((function(e,t){var c=!1;return e.nickname===s&&(c=!0),Object(n.jsx)(le,{index:t,myMessage:c,nickname:e.nickname,message:e.message,time:e.time},t)}));return Object(c.useEffect)((function(){r.current.scrollTo({top:r.current.scrollHeight})}),[t]),Object(n.jsx)("div",{ref:r,className:"chat",children:a||"There are no messages"})},de=s(221),be=s(213),Oe=s(214),xe=s(215),me=s(216),he=s(212),fe=s(217),pe=s(109),ge=s.n(pe),ve=s(67),ye=["username@gmail.com","user02@gmail.com"],Ce=Object(m.a)({avatar:{backgroundColor:ve.a[100],color:ve.a[600]}});function we(e){var t=Ce(),s=e.onClose,c=e.selectedValue,r=e.open;return Object(n.jsxs)(fe.a,{className:t.root,style:{color:"red"},onClose:function(){s(c)},"aria-labelledby":"simple-dialog-title",open:r,children:[Object(n.jsx)(he.a,{id:"simple-dialog-title",children:"Users in the party"}),Object(n.jsx)(be.a,{children:oe.map((function(e){return Object(n.jsxs)(Oe.a,{button:!0,onClick:function(){s(e)},children:[Object(n.jsx)(xe.a,{children:Object(n.jsx)(de.a,{className:t.avatar,children:Object(n.jsx)(ge.a,{})})}),Object(n.jsx)(me.a,{primary:e})]},e)}))})]})}function ke(e){var t=e.users,s=(e.admin,r.a.useState(!1)),c=Object(o.a)(s,2),a=c[0],i=c[1],j=r.a.useState(ye[1]),l=Object(o.a)(j,2),u=l[0],d=l[1];oe=t;return Object(n.jsxs)("div",{children:[Object(n.jsx)(p,{text:"USERS",variant:"outlined",color:"primary",onClick:function(){i(!0)}}),Object(n.jsx)(we,{selectedValue:u,open:a,onClose:function(e){i(!1),d(e)}})]})}var Se=function(e){var t=Object(N.h)().partyID,s=Object(c.useContext)(Ie),r=s.socket,a=s.nickname,i=s.setIsError,j=s.setErrorMessage,l=s.userID,u=s.setIsSuccess,d=s.setSuccessMessage,O=Object(N.g)(),x=Object(c.useState)(),m=Object(o.a)(x,2),h=m[0],f=m[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),y=v[0],C=v[1];Object(c.useEffect)((function(){t&&a&&r.emit("getParty",{partyID:t,nickname:a})}),[a,t,r]),Object(c.useEffect)((function(){return r.on("getPartyAnswer",(function(e){var t=e.docs,s=e.success,n=e.message;s?f(t):(i(!0),j(n))})),r.on("messageAnswer".concat(t),(function(e){f(e)})),function(){r.removeAllListeners("getPartyAnswer"),r.removeAllListeners("messageAnswer".concat(t))}}),[t,j,i,r]);return r.on("leavePartyAnswer",(function(e){var t=e.message;e.success?(u(!0),d(t),O.push("/")):(i(!0),j("Error"))})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(b.b,{to:"/myParties",children:Object(n.jsx)(p,{variant:"outlined",text:"Back"})})}),h?Object(n.jsx)("div",{className:"partyInfoContainer",children:Object(n.jsxs)("div",{className:"partyInfo",children:[Object(n.jsxs)("div",{className:"partyName",children:[Object(n.jsxs)("div",{className:"info",children:[Object(n.jsx)("h1",{children:h.partyName}),Object(n.jsxs)("span",{className:"partyName__createdBy",children:["Created by: ",h.creatorUsername," |"," ",h.dateCreated]})]}),Object(n.jsxs)("div",{className:"partyInfoButtons",children:[Object(n.jsx)(ke,{users:h.users,admin:h.admin}),Object(n.jsx)(p,{onClick:function(){r.emit("leaveParty",{nickname:a,partyID:t,userID:l})},text:"LEAVE PARTY"})]})]}),Object(n.jsx)("div",{className:"partyUsers"}),Object(n.jsx)("div",{className:"chatAndUsersContainer",children:Object(n.jsxs)("div",{className:"chatContainer",children:[Object(n.jsx)(ue,{chat:h.chat}),Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"text",value:y,onChange:function(e){return C(e.target.value)},placeholder:"Send a message"}),Object(n.jsx)("button",{onClick:function(e){return function(e){e&&e.preventDefault(),y&&t&&a&&r.emit("messageSend",{message:y,partyID:t,nickname:a}),C("")}(e)},type:"submit",style:{display:"none"}})]})]})})]})}):Object(n.jsx)("div",{className:"partyInfoLoading",children:Object(n.jsx)($,{})})]})},Pe=(s(170),function(){var e=Object(c.useContext)(Ie),t=e.socket,s=e.setIsSuccess,r=e.setIsError,a=e.setSuccessMessage,i=Object(c.useRef)(),j=Object(c.useState)(!1),l=Object(o.a)(j,2),u=l[0],d=l[1],O=Object(c.useState)(""),x=Object(o.a)(O,2),m=x[0],h=x[1],f=function(){m.includes("@")?(t.emit("forgotPasswordCode",{email:m}),h(""),d(!1)):r(!0)};return Object(c.useEffect)((function(){return t.on("forgotPasswordCodeAnswer",(function(e){var t=e.message;e.success?(s(!0),a(t)):r(!0)})),function(){t.removeAllListeners("forgotPasswordCodeAnswer")}}),[r,s,a,t]),Object(n.jsxs)("div",{onClick:function(e){!function(e){i.current&&(i.current.contains(e.target)||d(!1))}(e)},className:"firstComp",children:[Object(n.jsxs)("div",{className:"welcomeText",children:[Object(n.jsx)("h1",{className:"streamingFamily",children:"Streaming Family"}),Object(n.jsx)("p",{children:"First website where you can find people to share your accounts!"})]}),Object(n.jsxs)("div",{className:"loginContainerFirst",children:[Object(n.jsx)(G,{turnOffBack:"true"}),Object(n.jsxs)("div",{className:"createAccount",children:[Object(n.jsx)("h2",{children:"Don't have account?"}),Object(n.jsx)(b.b,{to:"/signup",children:Object(n.jsx)("p",{children:"Register now for free!"})}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{className:"forgotPasswordParagraph",onClick:function(){return d(!0)},children:"Forgot password?"})]})]}),u&&Object(n.jsx)("div",{ref:i,className:"forgotPasswordComp",children:Object(n.jsxs)("form",{autoComplete:"off",className:"forms",children:[Object(n.jsx)("h2",{children:"Enter your account email"}),Object(n.jsx)("input",{autoComplete:"off",type:"text",name:"email",onChange:function(e){return h(e.target.value)},value:m,placeholder:"Enter your email"}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),f()},style:{display:"none"},type:"submit"}),Object(n.jsx)("div",{style:{width:"fit-content"},children:Object(n.jsx)(p,{onClick:function(){f()},style:{color:"black",borderColor:"black"},text:"Send Code"})})]})})]})}),Ne=(s(171),function(){var e=Object(N.g)(),t=Object(N.h)().code,s=Object(c.useContext)(Ie),r=s.socket,a=s.setIsSuccess,i=s.setSuccessMessage,j=s.setIsError,l=s.setErrorMessage,u=Object(c.useState)(""),d=Object(o.a)(u,2),b=d[0],O=d[1],x=Object(c.useState)(""),m=Object(o.a)(x,2),h=m[0],f=m[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),y=v[0],C=v[1];Object(c.useEffect)((function(){r.emit("remindPasswordCheckCode",{code:t})}),[]);var w=function(){b===h&&y?r.emit("remindPasswordChange",{userID:y,password:b}):b!==h&&(j(!0),l("Passwords are not the same"))};return Object(c.useEffect)((function(){return r.on("remindPasswordChangeAnswer",(function(t){var s=t.message;t.success?(a(!0),i(s),O(""),setTimeout((function(){e.push("/")}),1)):j(!0)})),r.on("remindPasswordCheckCodeAnswer",(function(t){var s=t.success,n=t.userID;s?C(n):e.push("/")})),function(){r.removeAllListeners("remindPasswordChangeAnswer"),r.removeAllListeners("remindPasswordCheckCodeAnswer")}}),[e,j,a,i,r]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"remindPassword",children:[Object(n.jsx)("h2",{children:"CHANGE PASSWORD"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"password",value:b,onChange:function(e){O(e.target.value)},placeholder:"Password"}),Object(n.jsx)("input",{type:"password",value:h,onChange:function(e){f(e.target.value)},placeholder:"Confirm password"}),Object(n.jsxs)("div",{style:{width:"fit-content"},children:[Object(n.jsx)(p,{onClick:w,style:{width:"100%"},text:"Change password"}),Object(n.jsx)("button",{style:{display:"none"},onClick:function(e){e.preventDefault(),w()},type:"submit"})]})]})]})})}),De=l()("https://stormy-refuge-26952.herokuapp.com/"),Ie=r.a.createContext();var Ae=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),s=t[0],r=t[1],a=Object(c.useState)(),i=Object(o.a)(a,2),j=i[0],l=i[1],u=Object(c.useState)(),b=Object(o.a)(u,2),O=b[0],x=b[1],m=Object(c.useState)(!1),h=Object(o.a)(m,2),f=h[0],p=h[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),y=v[0],C=v[1],w=Object(c.useState)(!1),k=Object(o.a)(w,2),S=k[0],D=k[1],I=Object(c.useState)("Try again!"),A=Object(o.a)(I,2),E=A[0],M=A[1],L=Object(c.useState)(!1),F=Object(o.a)(L,2),B=F[0],_=F[1];return Object(c.useEffect)((function(){return De.on("CheckUserIDAnswer",(function(e){x(e),l(e.username)})),function(){De.removeAllListeners("CheckUserIDAnswer")}}),[]),Object(c.useEffect)((function(){d.a.get("userID")?(r(d.a.get("userID")),setTimeout((function(){De.emit("CheckUserID",s)}),1)):_(!0)}),[s]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ie.Provider,{value:{userID:s,setUserID:r,nickname:j,setNickname:l,userData:O,setUserData:x,socket:De,isSuccess:f,setIsSuccess:p,successMessage:y,setSuccessMessage:C,isError:S,setIsError:D,errorMessage:E,setErrorMessage:M,handleCreateParty:function(e,t,s,n,c){e&&t&&s&&n<6&&c?De.emit("createParty",{userID:e,partyName:t,text:s,maxUsers:n,streamingPlatform:c}):e?n>5?(D(!0),M("Party can have max 5 users")):(D(!0),M("Check it one more time")):(D(!0),M("You need to login!"))},setIsLoginPage:_},children:[Object(n.jsx)("div",{className:"app",children:B?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N.b,{path:"/",exact:!0,children:Object(n.jsx)(Pe,{})}),Object(n.jsx)(N.b,{path:"/signup",exact:!0,children:Object(n.jsx)(T,{})}),Object(n.jsx)(N.b,{path:"/remindpassword/:code",children:Object(n.jsx)(Ne,{})})]}):Object(n.jsxs)(N.d,{children:[Object(n.jsx)(N.b,{path:"/",exact:!0,children:Object(n.jsx)(P,{})}),Object(n.jsx)(N.b,{path:"/login",children:Object(n.jsx)(G,{})}),Object(n.jsx)(N.b,{path:"/LoginPage",children:Object(n.jsx)(Pe,{})}),Object(n.jsx)(N.b,{path:"/account",children:O&&Object(n.jsx)(Y,{})}),Object(n.jsx)(N.b,{path:"/activate",children:Object(n.jsx)(te,{})}),Object(n.jsx)(N.b,{path:"/myparties",children:O&&Object(n.jsx)(ee,{})}),Object(n.jsx)(N.b,{path:"/Netflix",children:Object(n.jsx)(je,{color:"#e50914",streamingPlatform:"Netflix"})}),Object(n.jsx)(N.b,{path:"/Spotify",children:Object(n.jsx)(je,{color:"#1DB954",streamingPlatform:"Spotify"})}),Object(n.jsx)(N.b,{path:"/HBOGO",children:Object(n.jsx)(je,{color:"white",streamingPlatform:"HBOGO"})}),Object(n.jsx)(N.b,{path:"/Disney+",children:Object(n.jsx)(je,{color:"#113CCF",streamingPlatform:"Disney+"})}),Object(n.jsx)(N.b,{path:"/party/:partyID",component:Se})]})}),Object(n.jsx)(ce,{}),Object(n.jsx)(U,{})]})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(b.a,{children:Object(n.jsx)(Ae,{})})}),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.383d19bf.chunk.js.map